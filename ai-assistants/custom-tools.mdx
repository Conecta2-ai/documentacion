---
título: "Herramientas personalizadas de mitad de llamada"
icono: "rama de código"
descripción: "Aprenda a crear y configurar integraciones API personalizadas que su asistente de IA pueda usar durante las llamadas"
---

<Note>
Las herramientas personalizadas de mitad de llamada permiten que tu asistente de IA interactúe con sistemas externos durante las llamadas. Ya sea para revisar el inventario, verificar los datos de los clientes o obtener información en tiempo real, estas herramientas hacen que tu IA sea más potente y esté más conectada.
</Note>

## Descripción general

Las herramientas personalizadas durante la llamada permiten que su asistente de IA:

- Realizar llamadas API en tiempo real durante las conversaciones
- Obtener o enviar datos a sus sistemas
- Tome decisiones informadas basadas en datos en vivo
- Proporcionar información precisa y actualizada a las personas que llaman.

<Card title="Key Benefits" icon="star">
  - No requiere codificación: solo configure el punto final y los parámetros de la API - La IA sabe automáticamente cuándo y cómo usar las herramientas - Acceso a datos en tiempo real durante las llamadas - Integración perfecta con sus sistemas existentes
</Card>

## Configuración de su herramienta

### 1. Configuración básica

<Frame>
  <img src="/resources/mid-call.png" alt="Main Tool Configuration" />
</Frame>

<Steps>
  <Step title="Access Tool Creation">
    Vaya a **Herramientas de mitad de llamadas** y haga clic en **Crear herramienta de mitad de llamada**
  </Step>

  <Step title="Configure Main Settings">
    Complete los detalles esenciales:

    - **Nombre**: Utiliza minúsculas y guiones bajos (por ejemplo, `check_order_status`).
    - **Descripción**: Explique cuándo y cómo debe utilizar la IA esta herramienta.
    - **Punto final**: La URL de su API (por ejemplo, `https://api.yourcompany.com/orders`)
    - **Tiempo de espera**: Cuánto tiempo esperar las respuestas (en segundos)
    - **Método**: Elija GET, POST, PUT, PATCH, o DELETE

  </Step>

  <Step title="Add Headers">
    Encabezados comunes que podrías necesitar:
    ```yaml
    Content-Type: application/json
    Authorization: Bearer your_token
    ```
  </Step>
</Steps>

### 2. Configuración de variables

<Frame>
  <img src="/resources/mid-call-param.png" alt="Variable Configuration" />
</Frame>

<Steps>
  <Step title="Define Parameters">
    Estos son los datos que tu IA recopilará durante la llamada:
    
    ```yaml
    Nombre: número_de_pedido
    Tipo: cadena
    Descripción: "Número de pedido de 10 dígitos del cliente"
    ```
  </Step>

  <Step title="Set Validation Rules">
    Añadir requisitos de formato en la descripción:
    
    ```yaml
    "Fecha en formato dd/mm/aaa"
    "Número de teléfono sin espacios"
    "Dirección de correo electrónico para confirmación"
    ```
  </Step>
</Steps>

## Comprensión de los tipos de parámetros

<CardGroup cols={2}>
  <Card title="String" icon="font">
    Valores de texto como nombres, direcciones o números de referencia

    ```yaml
    Tipo: Cadena
    Ejemplos: "Johny Dan", "Calle"
    ```

  </Card>

  <Card title="Number" icon="calculator">
    Valores numéricos como cantidades, cantidades o identificaciones

    ```yaml
    Tipo: número
    Ejemplo: 42, 99.99
    ```

  </Card>

  <Card title="true_false" icon="toggle-on">
    Valores booleanos para situaciones de sí/no

    ```yaml
    Tipo: Verdadero_falso
    Ejemplo: verdadero, falso
    ```

  </Card>

  <Card title="Formatting Help" icon="wand-magic-sparkles">
    Añadir instrucciones de formato en las descripciones

    ```yaml
    "Fecha dd/mm/aaa"
    "Teléfono sin espacios"
    ```

  </Card>
</CardGroup>

## Puntos finales dinámicos

<Warning>
  Al utilizar variables en la URL de su punto final, asegúrese de encerrarlas entre llaves y utilizar el nombre exacto del parámetro.
</Warning>

Puedes hacer que tus puntos finales sean dinámicos usando variables:

```yaml
URL básica:
https://api.example.com/orders/status

Con Variables:
https://api.example.com/orders/{order_id}/status
```

La IA reemplazará automáticamente `{order_id}` con el valor real recopilado durante la conversación.

## Pruebas simplificadas

<Card title="Automatic Testing" icon="vial">
Haga clic en "Herramienta de prueba" tpara ejecutar una prueba con datos ficticios:
- Parámetros de cadena: "prueba"
- Parámetros numéricos: 1
- Parámetros booleanos: verdadero

Verá el código y el cuerpo de la respuesta, lo que le ayudará a verificar que todo funciona.

</Card>

## Función de usuario avanzado: Integración de la plataforma de automatización

<Note>
  ¿Necesitas una lógica más compleja?  Conecta tu herramienta a la plataforma de automatización para flujos de trabajo avanzados.
</Note>

Para integraciones avanzadas y flujos de trabajo complejos, puede combinar herramientas personalizadas con nuestra [Plataforma de automatización](/automation-platform/introduction).

A continuación se explica cómo crear integraciones potentes:

1. En la plataforma de automatización:

   - Crear un nuevo flujo
   - Agregar un activador de webhook
   - Construye tu lógica (llamadas API, transformación de datos, etc.)
   - Terminar con "Respuesta de retorno"

2. En su herramienta personalizada:
   - Utilice la URL del webhook como punto final
   - Añadir `/sync` al final
   - Ejemplo: `https://automation.conecta2.ai/webhook/abc123/sync`

Esto le permite:

- Transformar datos antes/después de las llamadas API
- Realizar múltiples llamadas API en secuencia
- Aplicar lógica empresarial compleja
- Manejar los errores con elegancia

## Ejemplos del mundo real

<AccordionGroup>
  <Accordion title="Order Lookup System" icon="magnifying-glass">
    ```yaml
    Nombre: check_order
    Punto final: https://api.yourshop.com/orders/{order_number}
    Parámetros:
      - Nombre: order_number
        Tipo: cadena
        Descripción: "Referencia del pedido (formato: ORD-XXXXX)"
    ```

    La IA hará lo siguiente:
    1. Solicitará el número de pedido.
    2. Obtendrá el estado.
    3. Explicará las fechas de entrega y el estado al cliente.

  </Accordion>

  <Accordion title="Appointment Availability" icon="calendar">
    ```yaml
    Nombre: check_slots
    Punto final: https://api.calendar.com/availability
    Parámetros:
      - Nombre: servicio
        Tipo: cadena
        Descripción: "Tipo de servicio (corte de pelo, masaje, consulta)"
      - Nombre: fecha
        Tipo: cadena 
        Descripción: "Fecha preferida (dd/mm/aaaa)"
    ```

    La IA hará lo siguiente:
    1. Preguntará por el servicio deseado
    2. Obtendrá la fecha preferida.
    3. Mostrará los horarios disponibles.

  </Accordion>

  <Accordion title="Customer Verification" icon="shield-check">
    ```yaml
    Nombre: verify_customer
    Punto final: https://api.crm.com/verify
    Parámetros:
      - Nombre: phone
        Tipo: string
        Descripción: "Número de teléfono de 10 dígitos"
      - Nombre: email 
        Tipo: string
        Descripción: "Dirección de correo electrónico para verificación"
    ```

    La IA lo siguiente:
    1. Recopilará los datos de contacto.
    2. Los verificará con su CRM.
    3. Procederá en función del estado de la verificación.

  </Accordion>
</AccordionGroup>

## Configurando tu IA

<Info>
  La IA necesita instrucciones claras en el mensaje del sistema para poder utilizar eficazmente sus herramientas personalizadas.
</Info>

Ejemplo de sección de solicitud:

```yaml
Cuándo utilizar la herramienta check_order:
1. El cliente pregunta por el estado del pedido.
2. Menciona el seguimiento o la entrega.
3.  Quiere saber dónde está su paquete.

Cómo utilizarla:
1. Pida el número de pedido si no se ha facilitado.
2. Verifique el formato (ORD-XXXXX)
3. Utilice la herramienta para obtener el estado.
4. Explique los resultados en términos sencillos.
```


<Tip>
  Pruebe sus herramientas con diversos flujos de conversación para garantizar que la IA gestione todos los escenarios sin problemas. Comience con llamadas de prueba sencillas antes de lanzar la aplicación.
</Tip>

---
título: "Acciones posteriores a la llamada"
icono: "webhook"
descripción: "Extraiga datos de la llamada y envíelos a una aplicación/webhook para flujos de trabajo de automatización."
---

Configure lo que sucede después de que finalizan las llamadas: extraiga información específica de las conversaciones y envíela a sistemas externos para su posterior procesamiento.

## Descripción general

Acciones posteriores a la llamada de forma automática:
- Extraer datos estructurados de conversaciones mediante IA
- Enviar variables extraídas a webhooks para automatización
- Activar flujos de trabajo en plataformas conectadas
- Actualizar registros y bases de datos de CRM
- Habilite escenarios de automatización complejos

## Variables posteriores a la llamada

Define las variables que la IA extraerá de la llamada y enviará a un webhook.

### Configuración de variables

Configura qué información debe extraer la IA de cada conversación:

<AccordionGroup>
  <Accordion title="Variable Definition" icon="code">
    Crea variables que la IA identificará y extraerá de las conversaciones.
    
    **Cómo funciona la extracción:**
    La IA analiza la transcripción completa de la llamada y tiene en cuenta el contexto de la solicitud de su sistema para extraer las variables solicitadas. Entiende lo que se ha discutido durante la llamada y extrae la información relevante basándose en las descripciones de sus variables.
    
    **Configuración:**
    - **Nombre:** Identificador de la variable (3-16 caracteres, minúsculas, alfanuméricos)
    - **Tipo:** Tipo de datos para el valor extraído
    - **Descripción:** explicación clara para que la IA comprenda qué debe extraer de la conversación
    
    **Tipos de variables:**
    - **Cadena:** valores de texto (nombres, direcciones, comentarios)
    - **Número:** valores numéricos (cantidades, precios, puntuaciones)
    - **Verdadero/Falso:** valores booleanos (respuestas sí/no, objetivos alcanzados)
  </Accordion>
  
  <Accordion title="Default Variables" icon="list">
    Cada asistente incluye estas variables esenciales por defecto:
    
    **Estado (Verdadero/Falso):** Si se logró o no el objetivo de la llamada.
    
    **Resumen (Cadena):** Resumen de la llamada en pocas palabras.
    
    Puede agregar variables personalizadas según su caso de uso específico.
  </Accordion>


  <Accordion title="Variable Examples" icon="lightbulb">
    Variables comunes para diferentes escenarios:
    
      **Requisitos de venta:**
    - `presupuesto` (número): rango presupuestario del cliente
    - `responsable_de_la_decisión` (verdadero/falso): si la persona que llama es el responsable de la decisión
    - `plazo` (cadena): cuándo necesitan la solución
    - `puntos_débiles` (cadena): principales retos mencionados
      
      **Reserva de citas:**
    - `fecha_cita` (cadena): fecha preferida para la cita
    - `tipo_servicio` (cadena): tipo de servicio solicitado
    - `método_contacto` (cadena): método de contacto preferido
      
      **Llamadas de asistencia:**
    - `tipo_incidencia` (cadena): categoría del problema
    - `nivel_urgencia` (número): puntuación de prioridad (1-10)
    - `resolution_status` (Verdadero/Falso): ¿Se resolvió el problema?
  </Accordion>
</AccordionGroup>

### Proceso de extracción

<AccordionGroup>
  <Accordion title="How AI Extracts Variables" icon="brain">
    La IA utiliza un análisis sofisticado para extraer variables de sus llamadas:
    
        **Fuentes de datos:**
    - **Transcripción completa de la llamada:** todo lo dicho tanto por la IA como por el cliente.
    - **Contexto de las indicaciones del sistema:** los objetivos y las instrucciones de su asistente ayudan a guiar la extracción.
    - **Descripciones de variables:** descripciones claras que usted proporciona para cada variable.
        
        **Método de análisis:**
    1. La IA revisa la transcripción completa de la conversación.
    2. Tiene en cuenta las indicaciones del sistema y los objetivos de la llamada.
    3. Identifica la información relevante basándose en las descripciones de las variables.
    4. Extrae y formatea los datos según los tipos especificados.
    5. Valida los valores extraídos antes de enviarlos al webhook.
  </Accordion>
</AccordionGroup>

### Mejores prácticas

<Warning>
**Nombre de variables:** Use solo caracteres alfanuméricos en minúscula. No se permiten espacios ni caracteres especiales, excepto guiones bajos.
</Warning>

<Tip>
**Descripciones claras:** Escriba descripciones que expliquen claramente qué debe buscar la IA en la transcripción de la conversación. Cuanto más específicas y contextuales sean, mayor será la precisión de la extracción. 
</Tip>

<Note>
**Sinergia con las indicaciones del sistema:** Las descripciones de sus variables funcionan mejor cuando se alinean con los objetivos de las indicaciones del sistema. Si su asistente está diseñado para la calificación de clientes potenciales, sus variables deben reflejar ese propósito.
</Note>

## Configuración de webhook

Realizar una solicitud a una URL que envíe las variables extraídas a sistemas externos.

### Configuración del webhook

<AccordionGroup>
  <Accordion title="Webhook Status" icon="check">
    **Habilitado/Deshabilitado:** Controla si los webhooks se envían después de las llamadas
    
    **Predeterminado:** Desactivado. Actívelo solo cuando tenga un punto final de webhook listo para recibir datos.
  </Accordion>
  
  <Accordion title="Webhook URL" icon="link">
    **Punto final de URL:** Dónde enviar los datos extraídos
    
    **Formato:** Debe ser una URL válida

    **Ejemplo:** `https://automate.autocalls.ai/api/v1/webhooks/your-webhook-id`
    
    **Funcionalidad de prueba:** La función de prueba integrada envía datos de muestra para verificar la conectividad
  </Accordion>
  
  <Accordion title="Delivery Options" icon="gear">
    **Enviar webhook solo cuando se complete:** 
    - **Sí (predeterminado):** Solo enviar datos para llamadas completadas
    - **No:** Enviar datos para todas las llamadas independientemente del estado de finalización
    
    **Incluir grabación en webhook:**
    - **Sí (predeterminado):** Incluir la URL de la grabación en la carga útil del webhook
    - **No:** Enviar solo las variables extraídas sin el enlace de la grabación
  </Accordion>
</AccordionGroup>

### Carga útil del webhook

El webhook recibirá una carga útil JSON completa con los detalles de la llamada, las variables extraídas y la transcripción. Para consultar la documentación completa de la API, consulte la API de webhooks posteriores a la llamada.

**Campos de carga útil clave:**

<AccordionGroup>
  <Accordion title="Call Information" icon="phone">
    - **id:** Identificador único de llamada
    - **customer_phone:** Número de teléfono del cliente (formato E.164)
    - **assistant_phone:** Número de teléfono del asistente
    - **duration:** Duración de la llamada en segundos
    - **status:** Estado de la llamada (iniciada, sonando, ocupada, en curso, finalizada, completada, finalizada por el cliente, finalizada por el asistente, sin respuesta, fallida)
    - **created_at/finished_at:** Marcas de tiempo ISO 8601
  </Accordion>
  
  <Accordion title="Extracted Variables" icon="code">
    - **extracted_variables:** Datos extraídos por IA basados ​​en la configuración del esquema posterior a la llamada (consulte la sección [Variables posteriores a la llamada](#post-call-variables) más arriba) 
    - **input_variables:** Variables pasadas antes de la llamada (consulte [Variables de llamada](/ai-assistants/settings/prompt-and-tools#call-variables))
    - Incluye variables predeterminadas (estado, resumen) más sus variables personalizadas
  </Accordion>
  
  <Accordion title="Conversation Data" icon="message">
    - **transcripción:** Conversación detallada transcripción con marcas de tiempo
    - **formatted_transcript:** formato de conversación legible para humanos
    - **recording_url:** URL de grabación de llamadas (si está habilitada)
  </Accordion>
  
  <Accordion title="Campaign & Lead Data" icon="users">
    - **lead:** nformación del cliente potencial (para llamadas de campaña)
    - **campaign:** detalles y configuraciones de la campaña
    - Solo se incluye para las llamadas que forman parte de las campañas
  </Accordion>
</AccordionGroup>

**Ejemplo de carga útil de webhook:**

```json
{
  "id": 12345,
  "customer_phone": "+1234567890",
  "assistant_phone": "+1987654321",
  "duration": 125,
  "status": "completado",
  "extracted_variables": {
    "status": true,
    "summary": "Cliente interesado en la demostración del producto",
    "lead_quality": "alta",
    "budget": 5000
  },
  "input_variables": {
    "customer_name": "John Doe",
    "product_interest": "Pro Plan"
  },
  "transcript": [
    {
      "texto": "¡Hola! Soy Sofia, de Conecta2.ai.",
      "tipo": "transcripción",
      "remitente": "bot",
      "marca de tiempo": 1756812511.315143
    },
    {
      "texto": "Hola, Hola, estoy bien, gracias.",
      "type": "transcript", 
      "sender": "human",
      "timestamp": 1756812514.104436
    }
  ],
  "formatted_transcript": "IA: Hola! Soy Sofia de Conecta2.ai.\\nCliente: Hola, estoy bien, gracias.",
  "recording_url": "https://app.autocalls.ai/storage/recordings/call-12345.mp4",
  "created_at": "2025-01-15T10:30:00.000000Z",
  "finished_at": "2025-01-15T10:32:05.000000Z"
}
```

### Prueba de webhooks

<Tip>
**Pruebe antes de publicar:** utilice el botón "Realizar solicitud de prueba" para enviar datos de muestra al punto final de su webhook y verificar que funcione correctamente.
</Tip>

**Proceso de prueba:**
1. Configura tus variables y la URL del webhook
2. Guarda la configuración de tu asistente
3. Haga clic en "Realizar solicitud de prueba" 
4. Comprueba que el punto final de tu webhook recibe los datos de prueba
5. Verifique que la estructura de la carga útil coincida con sus expectativas

## Ejemplos de integración

### Nuestra plataforma de automatización

**Integración primaria:** utilice nuestra plataforma de automatización sin código incorporada para flujos de trabajo fluidos:

- **Procesamiento directo de webhook:** no requiere configuración externa
- **Más de 250 integraciones de aplicaciones:** conéctese a CRM, correo electrónico, calendarios y más
- **Generador de flujo de trabajo visual:** cree automatizaciones complejas sin código
- **Sincronización de datos en tiempo real:** procesamiento instantáneo de las variables extraídas
- **Plantillas prediseñadas:** flujos de trabajo listos para usar para escenarios comunes

**Flujos de trabajo de automatización comunes:**
- **Actualizaciones de CRM:** actualice automáticamente los registros de contactos en HubSpot, Salesforce y Pipedrive
- **Seguimiento por correo electrónico:** envíe correos electrónicos personalizados según los resultados de las llamadas
- **Puntuación de clientes potenciales:** actualice las puntuaciones de los clientes potenciales en función de las variables extraídas
- **Reserva de calendario:** programe reuniones de seguimiento automáticamente
- **Notificaciones del equipo:** alerta a los miembros del equipo sobre llamadas importantes

### Plataformas externas

**Cualquier plataforma con soporte para webhooks:**
- Reciba datos de webhook desde nuestra plataforma
- Procesar variables extraídas en sus propios sistemas
- Cree flujos de trabajo de automatización personalizados
- Integrar con cualquier API o servicio que acepte webhooks

**Casos de uso:**
- Conéctese a cualquier CRM, plataforma de correo electrónico o herramienta comercial
- Enviar datos a aplicaciones personalizadas
- Activar flujos de trabajo en plataformas de automatización de terceros
- Almacenar datos en bases de datos o sistemas externos

### Desarrollo personalizado

**Puntos finales de API** cree receptores personalizados para datos de webhook

**Integración de bases de datos:** almacene datos de llamadas en sus propios sistemas

**Lógica empresarial:** Activar flujos de trabajo complejos basados ​​en variables extraídas

## Poniendo a prueba a tu asistente

Después de configurar los ajustes de su asistente, es importante realizar pruebas exhaustivas antes de implementarlo en producción.

### Métodos de prueba

<AccordionGroup>
  <Accordion title="Speak with Your Assistant" icon="microphone">
    **Pruebas basadas en la web:** Utilice el botón "Hable con su asistente" para realizar pruebas directamente desde su navegador
    
    **Características:**
- Conversación de voz en tiempo real a través de su navegador web
- Pruebe todas las capacidades del asistente, incluidas las herramientas y la base de conocimientos
- No se necesita teléfono, perfecto para interacciones rápidas
- Comentarios inmediatos sobre las respuestas y el comportamiento
    
   **Ideal para:** Pruebas rápidas durante el desarrollo y la configuración
  </Accordion>
  
  <Accordion title="Phone Call Testing" icon="phone">
   **Prueba de llamada telefónica real:** Llama a tu asistente desde cualquier número de teléfono
    
    **Asistentes salientes:**
- Si no se establece un número específico: el asistente llama desde un número aleatorio.
- Si se configura el identificador de llamadas: el asistente llama desde el número especificado.
- Pruebe el flujo saliente completo, incluyendo la marcación y el mensaje inicial.
    
    **Asistentes entrantes:**
- Llame directamente al número de teléfono asignado.
- Pruebe cómo gestiona el asistente las llamadas entrantes.
- Verifique el enrutamiento de las llamadas y la calidad de la respuesta.
    
    **Ideal para:** Pruebas finales con condiciones telefónicas reales y calidad de audio.
  </Accordion>
</AccordionGroup>

### Lista de verificación de pruebas

<Tip>
**Pruebas integrales:** Pruebe todas las funciones configuradas, incluidas herramientas, consultas a la base de conocimientos, extracción de variables y entrega de webhooks.
</Tip>

**Pruebas esenciales:**
- Claridad de voz y velocidad de respuesta
- Integración de la base de conocimientos (si está configurada)
- Funcionalidad de la herramienta (transferencia, programación, etc.)
- Precisión de extracción variable
- Entrega de webhook (verifique que su punto final reciba datos)
- Casos extremos y manejo de errores

## Integración de widgets web

Configure su asistente para que funcione como un widget web en su sitio web para lograr interacciones fluidas con los clientes.

### Configuración del widget

<AccordionGroup>
  <Accordion title="Widget Setup" icon="code">
    **Fácil integración:** Agregue su asistente de IA a cualquier sitio web con un simple fragmento de código
    
    **Características:**
- **Chat de voz:** los clientes pueden hablar directamente con tu asistente
- **Alternativa de texto:** opción para conversaciones basadas en texto
- **Apariencia personalizable:** adapta los colores y el estilo de tu marca
- **Compatible con dispositivos móviles:** funciona en todos los dispositivos y tamaños de pantalla
  </Accordion>
  
  <Accordion title="Widget Behavior" icon="gear">
    **Interacciones inteligentes:** El widget se adapta a la configuración de tu asistente
    
    **Capacidades:**
- Utiliza la misma base de conocimientos y herramientas que el asistente telefónico.
- Es compatible con todos los idiomas configurados.
- Extrae las mismas variables posteriores a la llamada.
- Envía webhooks para conversaciones web.
- Respeta las mismas indicaciones y personalidad del sistema.
  </Accordion>
  
  <Accordion title="Use Cases" icon="lightbulb">
    **Aplicaciones comunes:**
    
    **Atención al cliente:** asistencia automatizada 24/7 en su sitio web.
**Calificación de clientes potenciales:** califique a los visitantes antes de que se pongan en contacto con el departamento de ventas.
**Reserva de citas:** permita a los visitantes programar citas directamente a través del widget.
**Gestión de preguntas frecuentes:** responda a las preguntas más comunes al instante.
**Demostraciones de productos:** guíe a los visitantes a través de las características de sus productos.
  </Accordion>
</AccordionGroup>

<Note>
Para obtener guías detalladas de prueba e instrucciones de integración de widgets, consulte nuestra documentación de [Prueba de su asistente](/ai-assistants/testing).
</Note>

<Note>
Para obtener guías detalladas de integración de webhooks y ejemplos, consulte nuestra [Documentación de automatización](/automation/overview).
</Note>
